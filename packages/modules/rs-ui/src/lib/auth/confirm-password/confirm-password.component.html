<rs-auth-page>
  <h2>Confirm Password</h2>
  <p>
    Please provide the necessary information to complete your password
    confirmation.
  </p>

  @if(routerParams$ | async) {
  <form
    vclForm
    class="form"
    [formGroup]="form"
    (ngSubmit)="onClickConfirm()"
  >
    <vcl-form-control-group>
      <vcl-label>Email or Username</vcl-label>
      <vcl-input-field>
        <input
          vclInput
          class="input"
          [class.error]="
            formFields.identifier.hasError('required') &&
            formFields.identifier.touched
          "
          formControlName="identifier"
          type="text"
          name="identifier"
          readonly
        />
      </vcl-input-field>
      <vcl-hint-error error="required">
        This field is required.
      </vcl-hint-error>
    </vcl-form-control-group>

    <vcl-form-control-group>
      <vcl-label>Password</vcl-label>
      <vcl-password-input>
        <input
          vclInput
          formControlName="password"
        />
      </vcl-password-input>
      <rs-password-policy-hints [control]="formFields.password" />
    </vcl-form-control-group>

    <vcl-form-control-group>
      <vcl-label>Confirm password</vcl-label>
      <vcl-password-input>
        <input
          vclInput
          formControlName="passwordConfirmation"
        />
      </vcl-password-input>
      <vcl-hint-error error="required">
        This field is required.
      </vcl-hint-error>

      @if ( !formFields.password.hasError('required') &&
      form.hasError('passwordConfirmationMismatch')) {
      <vcl-hint-error>
        Fields Password and Confirm password must match.
      </vcl-hint-error>
      }
    </vcl-form-control-group>

    <div class="align-right">
      <button
        vcl-button
        type="submit"
      >
        Confirm password
      </button>
    </div>
  </form>
  }
</rs-auth-page>
