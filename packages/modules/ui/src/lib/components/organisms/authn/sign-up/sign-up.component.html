<form
  vclForm
  class="form m-0"
  [formGroup]="form"
  (ngSubmit)="onClickSignUp()"
>
  <vcl-form-control-group>
    <vcl-label>First name</vcl-label>
    <vcl-input-field>
      <input
        vclInput
        class="input"
        [class.error]="
          formFields.firstName.hasError('required') &&
          formFields.firstName.touched
        "
        formControlName="firstName"
        type="text"
        name="firstName"
      />
    </vcl-input-field>
    <vcl-hint-error error="required">This field is required.</vcl-hint-error>
  </vcl-form-control-group>

  <vcl-form-control-group>
    <vcl-label>Last name</vcl-label>
    <vcl-input-field>
      <input
        vclInput
        class="input"
        [class.error]="
          formFields.lastName.hasError('required') &&
          formFields.lastName.touched
        "
        formControlName="lastName"
        type="text"
        name="lastName"
      />
    </vcl-input-field>
    <vcl-hint-error error="required">This field is required.</vcl-hint-error>
  </vcl-form-control-group>

  <vcl-form-control-group>
    <vcl-label>Username</vcl-label>
    <vcl-input-field>
      <input
        vclInput
        class="input"
        [class.error]="
          formFields.name.hasError('required') && formFields.name.touched
        "
        formControlName="name"
        type="text"
        name="name"
        minlength="8"
        maxlength="20"
      />
    </vcl-input-field>
    <vcl-hint-error error="required">This field is required.</vcl-hint-error>
    <vcl-hint-error error="pattern">This field must: </vcl-hint-error>
    <vcl-hint-error error="pattern"
      >- have at least 8 characters in length</vcl-hint-error
    >
    <vcl-hint-error error="pattern"
      >- start with a letter (lowercase or uppercase)</vcl-hint-error
    >
    <vcl-hint-error error="pattern"
      >- it can contain only letters (lowercase or uppercase), numbers, and the
      characters @_.-</vcl-hint-error
    >
    <vcl-hint-error error="pattern"
      >- does not have any consecutive characters repeated</vcl-hint-error
    >
  </vcl-form-control-group>

  <vcl-form-control-group>
    <vcl-label>Email</vcl-label>
    <vcl-input-field>
      <input
        vclInput
        class="input"
        [class.error]="
          formFields.email.hasError('required') && formFields.email.touched
        "
        formControlName="email"
        type="email"
        name="email"
      />
    </vcl-input-field>
    <vcl-hint-error error="required">This field is required.</vcl-hint-error>
    <vcl-hint-error error="email"
      >This field should be a valid email address.</vcl-hint-error
    >
  </vcl-form-control-group>

  <vcl-form-control-group>
    <vcl-label>Password</vcl-label>
    <vcl-password-input>
      <input
        vclInput
        class="input"
        [class.error]="
          formFields.password.hasError('required') &&
          formFields.password.touched
        "
        type="password"
        formControlName="password"
        name="password"
        autocomplete="false"
        minlength="6"
        maxlength="20"
      />
    </vcl-password-input>
    <vcl-hint-error error="required">This field is required.</vcl-hint-error>
    <vcl-hint-error error="pattern">This field must: </vcl-hint-error>
    <vcl-hint-error error="pattern"
      >- have at least 6 characters length</vcl-hint-error
    >
    <vcl-hint-error error="pattern"
      >- contain a lowercase letter</vcl-hint-error
    >
    <vcl-hint-error error="pattern"
      >- contain a uppercase letter</vcl-hint-error
    >
    <vcl-hint-error error="pattern">- contain a number</vcl-hint-error>
    <vcl-hint-error error="pattern"
      >- contain a special character</vcl-hint-error
    >
  </vcl-form-control-group>

  <vcl-form-control-group>
    <vcl-label>Confirm password</vcl-label>
    <vcl-password-input>
      <input
        vclInput
        class="input"
        [class.error]="
          formFields.passwordConfirmation.hasError('required') &&
          formFields.passwordConfirmation.touched
        "
        type="password"
        formControlName="passwordConfirmation"
        name="passwordConfirmation"
      />
    </vcl-password-input>
    <vcl-hint-error error="required">This field is required.</vcl-hint-error>
    <vcl-hint-error
      *ngIf="
        !formFields.password?.hasError('required') &&
        form?.hasError('passwordConfirmationMismatch')
      "
      >Fields Password and Confirm password must match.</vcl-hint-error
    >
  </vcl-form-control-group>

  <vcl-form-control-group>
    <vcl-label>User type</vcl-label>
    <vcl-select>
      <vcl-select-list
        vclSelectList
        formControlName="userType"
        name="userType"
        [class.error]="
          formFields.userType.hasError('required') &&
          formFields.userType.touched
        "
        selectionMode="single"
      >
        <vcl-select-list-item [value]="'GUEST'"> Guest </vcl-select-list-item>
        <vcl-select-list-item [value]="'INDIVIDUAL_USER'">
          Individual user
        </vcl-select-list-item>
        <vcl-select-list-item [value]="'ORG_USER'">
          Organization user
        </vcl-select-list-item>
      </vcl-select-list>
    </vcl-select>
    <vcl-hint-error error="required">This field is required.</vcl-hint-error>
  </vcl-form-control-group>

  <div class="row justify-between">
    <div class="col">
      <div class="row">
        <div class="col">
          <p>
            <a
              [routerLink]="
                ROUTER.pages.main.children.auth.children.signIn.link
              "
            >
              <button
                type="button"
                class="button half-transparent"
              >
                Already have an account? Sign In!
              </button>
            </a>
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <rc-submit-button
            [isDisabled]="form.invalid"
            [isBusy]="isLoading$ | async"
            >Sign Up</rc-submit-button
          >
        </div>
      </div>
    </div>
  </div>
</form>
