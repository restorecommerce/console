@if (user(); as user) {
  <rc-resource-detail
    [title]="'User details'"
    (back)="goBack()"
    (edit)="editUser()"
    (delete)="deleteUser()"
  >
    <div class="mb-3">
      <div class="row align-items-center grid-gutter-3">
        <span class="scale110p">{{ user.fullName }}</span>

        <span> <app-iam-user-status-badge [status]="user.status" /></span>
      </div>

      <div class="actions mt-2"></div>

      <div class="secondary-text-color mt-1">
        {{ user.email }}
      </div>

      <div class="secondary-text-color scale85p">
        {{ user.username }}
      </div>

      <div class="mt-2 scale85p">
        Roles: {{ user.rolesCount }} • Sessions: {{ user.sessionsCount }} • Last
        Access:
        {{ user.lastAccess ? (user.lastAccess | date: 'mediumDate') : '—' }}
      </div>
    </div>

    <vcl-tab-nav [selectedTabIndex]="0">
      <vcl-tab>
        <vcl-label>Basic</vcl-label>
        <app-iam-user-overview-tab [vm]="user" />
      </vcl-tab>

      <vcl-tab>
        <vcl-label>Roles</vcl-label>
        <app-iam-user-roles-tab [vm]="user" />
      </vcl-tab>

      <vcl-tab>
        <vcl-label>Sessions</vcl-label>
        <app-iam-user-sessions-tab [vm]="user" />
      </vcl-tab>

      <vcl-tab>
        <vcl-label>Raw JSON / Meta</vcl-label>

        <div class="raw">
          <div class="secondary-text-color scale85p">Raw payload</div>
          <pre class="pre">{{ user | json }}</pre>
        </div>
      </vcl-tab>
    </vcl-tab-nav>
  </rc-resource-detail>
}
