<div class="row grid-gutterx-2 full-height-scroll">
  <div class="flex-4-lg flex-4-md flex-12">
    <rc-toolbar>
      <button
        vcl-button
        rcPrepend
        (click)="onSelectId(null)"
        [routerLink]="feature.links.index()"
        class="square half-transparent button"
        title="Index"
      >
        <vcl-icon icon="mdi:home" />
      </button>
      {{ feature.name.plural }} [{{ total }}]
      <button
        vcl-button
        rcAppend
        *ngIf="isCreate"
        [routerLink]="feature.links.create()"
        class="square half-transparent button"
        title="Create"
      >
        <vcl-icon icon="mdi:plus" />
      </button>
      <button
        vcl-button
        rcAppend
        *ngIf="isRead"
        (click)="onRead()"
        class="square half-transparent button"
        title="Refresh"
      >
        <vcl-icon icon="mdi:refresh" />
      </button>
    </rc-toolbar>

    <ng-content select="[rc-crud-search]" />
    <ng-content select="[rc-crud-data-list]" />
  </div>

  <ng-container *ngIf="EUrlSegment.INDEX !== urlSegment">
    <div class="lex-8-lg flex-8-md flex-12">
      <div class="row grid-gutterx-2">
        <div class="flex-8-lg flex-12-md flex-12-sm flex-12">
          <rc-toolbar *ngIf="title !== 'null'">
            <button
              *ngIf="isEdit && urlSegment === EUrlSegment.EDIT"
              vcl-button
              rcPrepend
              [routerLink]="feature.links.view(id)"
              class="square half-transparent button"
              title="Go back"
            >
              <vcl-icon icon="mdi:arrow-left" />
            </button>
            <button
              vcl-button
              rcPrepend
              *ngIf="isEdit && urlSegment === EUrlSegment.VIEW"
              [routerLink]="feature.links.edit(id)"
              class="square half-transparent button"
              title="Edit"
            >
              <vcl-icon icon="mdi:pencil" />
            </button>

            {{ title }}

            <button
              vcl-button
              rcAppend
              *ngIf="
                isDelete &&
                [EUrlSegment.VIEW, EUrlSegment.EDIT].includes(urlSegment)
              "
              (click)="onRemove(id)"
              class="square half-transparent button"
              title="Delete &quot;{{ title }}&quot;"
            >
              <vcl-icon icon="mdi:delete" />
            </button>
          </rc-toolbar>
          <div class="row">
            <div class="flex py-2">
              <ng-content select="[rc-crud-router-outlet]" />
            </div>
          </div>
        </div>

        <div
          *ngIf="id"
          class="flex-4-lg flex-12-md flex-12-sm flex-12"
        >
          <rc-toolbar> Meta </rc-toolbar>
          <div class="row mb-4 pb-2">
            <div class="flex py-2">
              <ng-content select="[rc-crud-meta]" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>
