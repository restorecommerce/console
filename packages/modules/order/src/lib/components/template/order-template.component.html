@if (vm$ | async; as vm) {
<rc-resource-page-layout title="Applications">
  <ng-container rcResourceSidebar>
    <rc-resource-list
      title="Orders"
      [items]="vm.items"
      [getId]="getId"
      [total]="vm.items.length"
      (itemSelected)="onSelect($event)"
    >
      <ng-template
        #itemTemplate
        let-order
      >
        <div class="p-2">
          <div class="row justify-between">
            <div class="col">
              <div class="title">{{ order.customerName || '—' }}</div>
              <div class="muted small">
                {{ order.id }} · @if (order.createdAt) {
                <span>{{ order.createdAt | date : 'medium' }}</span>
                }
              </div>
            </div>
            <div class="col right">
              <div class="badge">{{ order.state }}</div>
              <div class="muted small">{{ order.itemsCount ?? 0 }} items</div>
            </div>
          </div>

          @if (order.email) {
          <div class="muted small">
            {{ order.email }}
          </div>
          }
        </div>
      </ng-template>
    </rc-resource-list>
  </ng-container>

  <ng-container rcResourceContent>
    <div class="w-100p h-100p">
      <router-outlet />
    </div>
  </ng-container>
</rc-resource-page-layout>
}
