<rc-resource-detail
  [title]="'Order details'"
  (back)="goBack()"
  (edit)="editOrder()"
  (delete)="deleteOrder()"
>
  <header class="mb-3 row justify-between">
    <div class="title">
      <h3 class="m-0 mb-1">Order 2a73d21bc9b0417db2393b30f556c063</h3>
      <vcl-badge>SUBMITTED</vcl-badge>
    </div>

    <div class="actions mt-2">
      <!-- slot: add buttons like "Cancel", "Refund", "Resend email" -->
      <button
        vcl-button
        class="transparent outline scale85p"
      >
        Create fulfilment
      </button>

      <button
        vcl-button
        class="ml-2 transparent outline scale85p"
      >
        Create invoice
      </button>
    </div>
    <!--
title, state badge, actions (cancel/refund/mark paid etc.)
-->
  </header>

  <vcl-tab-nav [selectedTabIndex]="0">
    <vcl-tab>
      <vcl-label>Basic</vcl-label>

      <div class="grid">
        <div>
          <div class="muted small">State</div>
          <div>{{ order?.orderState }}</div>
        </div>

        <div>
          <div class="muted small">Created</div>
          <div>{{ order?.meta?.created | date : 'medium' }}</div>
        </div>

        <div>
          <div class="muted small">Shop</div>
          <div>{{ order?.shopId }}</div>
        </div>

        <div>
          <div class="muted small">Notification Email</div>
          <div>{{ order?.notificationEmail || '—' }}</div>
        </div>
      </div>

      <hr />

      <div class="grid">
        <div>
          <div class="muted small">Customer</div>
          <div>{{ order?.customer?.name || '—' }}</div>
          <div class="muted small">{{ order?.customer?.id }}</div>
        </div>

        <div>
          <div class="muted small">User</div>
          <div>{{ order?.user?.firstName }} {{ order?.user?.lastName }}</div>
          <div class="muted small">{{ order?.user?.email }}</div>
        </div>
      </div>
    </vcl-tab>
    <vcl-tab>
      <vcl-label>Items</vcl-label>

      <table
        class="table vertical-border row-selectability"
        role="table"
      >
        <thead>
          <tr role="row">
            <th role="columnheader"><span>Col 1</span></th>
            <th role="columnheader"><span>Col 2</span></th>
            <th role="columnheader"><span>Col 3</span></th>
            <th role="columnheader"><span>Col 4</span></th>
          </tr>
          <tr
            class="table-tool-bar"
            role="row"
          >
            <th
              colspan="4"
              role="cell"
            >
              <button
                type="button"
                class="button transparent"
                disabled
                aria-disabled="true"
              >
                <div class="icogram">
                  <div
                    class="icon mdi mdi-delete-outline"
                    aria-hidden="true"
                    role="img"
                  ></div>
                  <!-- MDI Trash Icon -->
                </div>
              </button>
              <button
                type="button"
                class="button transparent"
              >
                <div class="icogram">
                  <div
                    class="icon mdi mdi-refresh"
                    aria-hidden="true"
                    role="img"
                  ></div>
                  <!-- MDI Refresh Icon -->
                </div>
              </button>
              <button
                type="button"
                class="button transparent"
              >
                <div class="icogram">
                  <div
                    class="icon mdi mdi-plus"
                    aria-hidden="true"
                    role="img"
                  ></div>
                  <!-- MDI Plus Icon -->
                </div>
              </button>
            </th>
          </tr>
          <tr
            class="table-filter-bar"
            role="row"
          ></tr>
        </thead>
        <tbody>
          <tr role="row">
            <td role="cell">Lorem ipsum</td>
            <td role="cell">Lorem ipsum</td>
            <td role="cell">Lorem ipsum</td>
            <td role="cell">Lorem ipsum</td>
          </tr>
          <tr role="row">
            <td role="cell">Lorem ipsum</td>
            <td role="cell">Lorem ipsum</td>
            <td role="cell">Lorem ipsum</td>
            <td role="cell">Lorem ipsum</td>
          </tr>
          <tr role="row">
            <td role="cell">Lorem ipsum</td>
            <td role="cell">Lorem ipsum</td>
            <td role="cell">Lorem ipsum</td>
            <td role="cell">Lorem ipsum</td>
          </tr>
        </tbody>
      </table>
    </vcl-tab>
    <vcl-tab>
      <vcl-label>History / Timeline</vcl-label>

      <div class="history">
        @for (h of order.history; track $index) {
        <div class="history-row">
          <div class="muted small">{{ h.code }}</div>
          <div>{{ h.message }}</div>
        </div>
        } @empty {
        <h4>No history available for this Order</h4>
        }
      </div>
    </vcl-tab>
    <vcl-tab>
      <vcl-label>Raw JSON / Meta</vcl-label>

      <div class="raw">
        <div class="muted small">Raw payload</div>
        <pre class="pre">{{ order | json }}</pre>
      </div>
    </vcl-tab>
  </vcl-tab-nav>
</rc-resource-detail>
